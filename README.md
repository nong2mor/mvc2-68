# ระบบประเมินการจบการศึกษา (Graduation Evaluation System)

ระบบประเมินการจบการศึกษาสำหรับนักศึกษา พัฒนาด้วย PHP โดยใช้สถาปัตยกรรม MVC (Model-View-Controller) และจัดเก็บข้อมูลในรูปแบบ JSON

## คุณสมบัติหลัก

- แสดงรายการนักศึกษาทั้งหมด
- ประเมินผลการจบการศึกษาตามเกณฑ์
  - หน่วยกิตสะสม >= 135 หน่วยกิต
  - สถานะโครงงาน = "ผ่านแล้ว"
- จัดการข้อมูลโครงงาน (อัพเดทสถานะ)
- บันทึกประวัติการประเมินพร้อมวันที่-เวลา
- อัพเดทสถานะนักศึกษาอัตโนมัติเมื่อผ่านการประเมิน

## โครงสร้างโปรเจกต์

```
mvc2-68/
├── Controllers/
│   └── GraduationController.php    # ควบคุมการประเมินผลการจบการศึกษา
├── Models/
│   ├── Student.php                 # จัดการข้อมูลนักศึกษา
│   ├── Credit.php                  # ตรวจสอบหน่วยกิตสะสม
│   └── Project.php                 # ตรวจสอบสถานะโครงงาน
├── Views/
│   ├── student_list.php            # หน้ารายการนักศึกษา
│   ├── evaluate.php                # หน้าประเมินผล
│   ├── process_evaluation.php      # ประมวลผลการประเมิน
│   ├── result.php                  # แสดงผลการประเมิน
│   ├── manage_project.php          # จัดการโครงงาน
│   └── update_project.php          # อัพเดทสถานะโครงงาน
├── database.json                   # ฐานข้อมูล JSON
└── README.md                       # เอกสารนี้
```

## โครงสร้างฐานข้อมูล (database.json)

```json
{
  "student": [
    {
      "id": 6501,
      "fname": "Alice",
      "lname": "Johnson",
      "dept": "CS",
      "faculty": "Science",
      "status": "กำลังเรียน"
    }
  ],
  "credit": [
    {
      "id": 1001,
      "student_id": 6501,
      "total_credit": 90
    }
  ],
  "project": [
    {
      "id": 2001,
      "student_id": 6501,
      "project_name": "AI Research",
      "status": "ผ่านแล้ว"
    }
  ],
  "graduation_result": [
    {
      "student_id": "6501",
      "result": "กำลังเรียน",
      "date": "2026-02-08 04:46:33"
    }
  ]
}
```

## เกณฑ์การจบการศึกษา

นักศึกษาต้องผ่านเกณฑ์ **ทั้ง 2 ข้อ** ดังนี้:

1. **หน่วยกิตสะสม** ≥ 135 หน่วยกิต
2. **สถานะโครงงาน** = "ผ่านแล้ว"

## วิธีการใช้งาน

### ความต้องการของระบบ
- PHP 7.4 หรือสูงกว่า

### การติดตั้ง

1. Clone โปรเจกต์
```bash
git clone <repository-url>
cd mvc2-68
```

2. ตรวจสอบให้แน่ใจว่าไฟล์ `database.json` มีสิทธิ์ในการอ่าน/เขียน
```bash
chmod 666 database.json
```

3. การรันระบบ - เปิด Terminal/Command Prompt ในโฟลเดอร์โปรเจกต์
```bash
php -S localhost:8000 -t Views
```

4. เปิดเบราว์เซอร์ไปที่
```
http://localhost:8000/student_list.php
```

## การใช้งานหน้าต่างๆ

### 1. หน้ารายการนักศึกษา (`student_list.php`)
- แสดงรายการนักศึกษาทั้งหมด
- แสดงข้อมูล: รหัส, ชื่อ-สกุล, สาขา, คณะ, หน่วยกิต, โครงงาน, สถานะ
- มีปุ่ม "ประเมินผล" และ "จัดการโครงงาน" สำหรับแต่ละคน

### 2. หน้าประเมินผล (`evaluate.php` + `process_evaluation.php`)
- แสดงข้อมูลนักศึกษาที่ต้องการประเมิน
- ตรวจสอบหน่วยกิตและสถานะโครงงาน
- แสดงผลการประเมิน: "จบการศึกษา" หรือ "ไม่จบการศึกษา"
- บันทึกผลการประเมินลงในฐานข้อมูล

### 3. หน้าจัดการโครงงาน (`manage_project.php` + `update_project.php`)
- แสดงข้อมูลโครงงานของนักศึกษา
- อัพเดทสถานะโครงงาน: "ผ่านแล้ว" หรือ "ยังไม่ผ่าน"

## สถาปัตยกรรม MVC

### Model (โมเดล)
- **Student.php**: จัดการข้อมูลนักศึกษา (getAll, getById)
- **Credit.php**: ตรวจสอบหน่วยกิตสะสม (checkCredits)
- **Project.php**: ตรวจสอบสถานะโครงงาน (checkProject)

### View (วิว)
- แสดงผลข้อมูลให้ผู้ใช้เห็น (HTML/CSS)
- รับข้อมูลจาก Controller และนำเสนอในรูปแบบที่เหมาะสม

### Controller (ตัวควบคุม)
- **GraduationController.php**: ควบคุมกระบวนการประเมินผล
  - ดึงข้อมูลนักศึกษา, หน่วยกิต, โครงงาน
  - เรียกใช้ Model เพื่อตรวจสอบเกณฑ์
  - สรุปผลและบันทึกลงฐานข้อมูล
  - อัพเดทสถานะนักศึกษา

## ตัวอย่างการใช้งาน Controller

```php
<?php
require_once '../Controllers/GraduationController.php';

$controller = new GraduationController();
$result = $controller->evaluate(6502);

echo "ผลการประเมิน: " . $result['result'];
// Output: ผลการประเมิน: จบการศึกษา
```

## กระบวนการทำงาน

```
1. ผู้ใช้เลือกนักศึกษาที่ต้องการประเมิน
   ↓
2. ระบบดึงข้อมูลนักศึกษา, หน่วยกิต, โครงงาน
   ↓
3. Model ตรวจสอบเกณฑ์
   - Credit: ≥ 135 หน่วยกิต?
   - Project: สถานะ "ผ่านแล้ว"?
   ↓
4. Controller สรุปผล
   - ผ่านทั้ง 2 เกณฑ์ → "จบการศึกษา"
   - ไม่ผ่าน → "ไม่จบการศึกษา"
   ↓
5. บันทึกผลลง graduation_result
   ↓
6. อัพเดทสถานะนักศึกษา (ถ้าจบ)
   ↓
7. แสดงผลให้ผู้ใช้
``